!function($,undefined){"use strict";var _window=window,_document=document,_body=_document.body;var floor=Math.floor,max=Math.max,min=Math.min;_window.$us=_window.$us||{};_window.$ush=_window.$ush||{};const _DIRECTION_={DOWN:'down',};const _TRANSLATE_FACTOR_=7;function scroll(){return{top:_window.scrollY||_window.pageYOffset,left:_window.scrollX||_window.pageXOffset}}
function isDisableEffects(){return $us.canvasOptions.disableEffectsWidth>=_body.clientWidth}
var _$temp={bodyHeight:$ush.parseInt(_body.clientHeight),disableEffects:isDisableEffects(),};function ScrollEffects(){var self=this;self.elms=[];self._events={scroll:self._scroll.bind(self),resize:$ush.debounce(self._resize.bind(self),25),updateElmsInitialData:$ush.debounce(self._updateElmsInitialData.bind(self),1),};$us.$window.on('scroll',self._events.scroll).on('resize',self._events.resize);$us.$canvas.on('contentChange',self._events.updateElmsInitialData)}
ScrollEffects.prototype={addElms:function(nodes){var self=this;if(!$.isArray(nodes)){nodes=[nodes]}
nodes.map(function(node){if($ush.isNode(node)){self.elms.push(new SE_Node(node))}})},_updateElmsInitialData:function(){var self=this;self.elms.map(function(element){element.setInitialData()})},_resize:function(){var self=this;var disableEffects=isDisableEffects();if(_$temp.disableEffects!==disableEffects){_$temp.disableEffects=disableEffects;self.elms.map(function(element){element[disableEffects?'removeEffects':'setEffects']()})}
var bodyHeight=$ush.parseInt(_body.clientHeight);if(_$temp.bodyHeight===bodyHeight){return}
_$temp.bodyHeight=bodyHeight;self._updateElmsInitialData()},_scroll:function(){var self=this;if(isDisableEffects()){return}
self.elms.map(function(element){if(!element.isInViewport()){element.node.classList.remove('in_viewport');return}
element.node.classList.add('in_viewport');element.setEffects()})}};$us.scrollEffects=new ScrollEffects;function SE_Node(node){var self=this;self.node=node;self.nearestTop=0;self.initialData={top:0,height:0,};self._config={start_position:'0%',end_position:'100%',};var $node=$(node);$.extend(self._config,$node.data('us-scroll')||{});$node.removeAttr('data-us-scroll');self.setInitialData();if(!isDisableEffects()){self.setEffects()}
node.classList.toggle('in_viewport',self.isInViewport());$ush.timeout(function(){node.style.setProperty('--scroll-delay',self.getParam('delay'))},1)}
SE_Node.prototype={isInViewport:function(){var self=this,rect=$ush.$rect(self.node),initialTop=self.initialData.top-scroll().top,nearestTop=min(initialTop,rect.top)-_window.innerHeight;self.nearestTop=nearestTop;return nearestTop<=0&&(max(initialTop,rect.top)+rect.height)>=0},setInitialData:function(){var self=this,rect=$ush.$rect(self.node);self.initialData.top=scroll().top+rect.top;self.initialData.height=rect.height;self.initialData.top-=$ush.parseFloat(self.node.style.getPropertyValue('--translateY'))},getParam:function(name,defaultValue){var self=this;return(self.node.dataset[name]||self._config[name]||defaultValue)},setEffects:function(){this.setTranslateY()},removeEffects:function(){this.node.style.setProperty('--translateY','')},setTranslateY:function(){var self=this;var translateSpeed=$ush.parseFloat(self.getParam('translate_y_speed'));if(!translateSpeed){return}
var directionIsDown=self.getParam('translate_y_direction')===_DIRECTION_.DOWN;if(!directionIsDown){translateSpeed=-translateSpeed}
function getFinalTranslateY(position){return(position-50)*(_TRANSLATE_FACTOR_*translateSpeed)}
var currentPosition=directionIsDown?_window.innerHeight+self.nearestTop:self.initialData.top-scroll().top;currentPosition+=(self.initialData.height/2);currentPosition=100-(currentPosition/_window.innerHeight*100);currentPosition=min(100,max(0,currentPosition));var translateY=getFinalTranslateY(currentPosition);var startPosition=$ush.parseInt(self.getParam('start_position'));if(startPosition&&floor(currentPosition)<=startPosition){translateY=getFinalTranslateY(startPosition)}
var endPosition=$ush.parseInt(self.getParam('end_position'));if(endPosition&&floor(currentPosition)>=endPosition){translateY=getFinalTranslateY(endPosition)}
self.node.style.setProperty('--translateY',translateY+'px')}};$.fn.usScrollEffects=function(){return this.each(function(){$us.scrollEffects.addElms(this)})};$(function(){$('[data-us-scroll]').usScrollEffects()})}(jQuery)